!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vest-utils"),require("n4s")):"function"==typeof define&&define.amd?define(["vest-utils","n4s"],t):(n="undefined"!=typeof globalThis?globalThis:n||self).compose=t(n["vest-utils"],n.n4s)}(this,(function(n,t){"use strict";function e(n,t){var e={pass:n};return t&&(e.message=t),e}function r(t){return n.defaultTo(t,e(!0))}function u(n,t){try{return n.run(t)}catch(n){return e(!1)}}return function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return n.assign((function(t){var e=i(t);n.invariant(e.pass,n.StringObject(e.message))}),{run:i,test:function(n){return i(n).pass}});function i(s){return t.ctx.run({value:s},(function(){return r(n.mapFirst(e,(function(n,t){var e=u(n,s);t(!e.pass,e)})))}))}}}));
